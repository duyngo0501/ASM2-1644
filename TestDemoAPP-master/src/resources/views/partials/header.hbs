<header id="Home">
    <div class="container">
        <div class="row" style="padding-top: 30px">
            <div class="col-sm-3">
                <div class="brand-name">
                    <a href="/"
                        style="text-decoration: none; color: inherit; font-family:'Times New Roman', Times, serif;">
                        <h2>ATN Toy Store</h2>
                    </a>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="search-box" style="padding-top: 5px;">
                    <form action="/search" method="get">
                        <input type="text" name="productname" id="productname" style="width: 400px; margin-left:70px">
                        <button style="all: unset; cursor: pointer;" type="submit"><i
                                class="fas fa-search"></i></button>
                    </form>
                </div>
            </div>
            <div class="col-sm-1">
                <div class="cart" style="padding-top: 10px;">
                    <a href="/cart"><button style="all:unset; padding-top:5px;" type="button" class="btn btn-light"><i
                                class="fas fa-shopping-cart"></i> <span
                                class="badge badge-light">{{Object.cartnum}}</span></button></a>
                </div>
            </div>
            <div class="col-sm-2">

                {{#if WebUser}}
                <div class="dropdown">
                    <button class="btn btn-light dropdown-toggle"
                        style="all:unset; padding-top:15px; padding-left:50px; cursor: pointer;" type="button"
                        id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Hi <strong>{{WebUser}}</strong>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="/logout">Log Out</a>
                    </div>
                </div>
                {{else}}
                <button type="button" style="all:unset; padding-top:15px; padding-left:50px; cursor: pointer;"
                    class="btn btn-light btn-round" data-toggle="modal" data-target="#loginModal">
                    Login
                </button>
                {{/if}}
            </div>
        </div>
    </div>

    <nav class="blend">
        <ul>
            <!-- Show list of category here -->
            <li><a href="/">Home</a></li>
            {{#each Object.cataloglist}}
            <li><a href="/products/{{this.name}}?page=1">{{this.name}}</a></li>
            {{/each}}

            <!--EOF show list of category-->
        </ul>

        {{#if Error}}
        <script>
            $(document).ready(function () {
                $("#loginModal").modal('show');
            })
        </script>
        <div class="modal fade in" tabindex="-1" id="loginModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header border-bottom-0">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-title text-center">
                            <h4 style="padding: 1em;">Login</h4>
                        </div>
                        <div class="d-flex flex-column text-center">
                            <form action="/check" method="POST">
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        id="actualLink" hidden>
                                </div>
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        name="user" id="user" placeholder="Your username or email address..." required>
                                </div>
                                <div class="form-group">
                                    <input type="password" style="width: 300px; margin:auto;" class="form-control"
                                        name="password" id="password" placeholder="Enter your password" required>
                                </div>
                                <div class="form-group">
                                    <input type="checkbox" style="width: auto;" onclick="myFunction()"> Show Password
                                    <script defer>
                                        function myFunction() {
                                            var x = document.getElementById("password");
                                            if (x.type === "password") {
                                                x.type = "text";
                                            } else {
                                                x.type = "password";
                                            }
                                        }
                                    </script>
                                </div>
                                <label style="color:red;" for="error"><b>Sorry your username or password might be incorrect!</b></label>

                                <button type="submit" style="width: 200px; margin:auto;" name="Login"
                                    class="btn btn-success btn-block btn-round">Login</button>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <div class="signup-section">Not a member yet? <a href="#signUpModal" data-dismiss="modal"
                                data-toggle="modal" data-target="#signUpModal" class="text-info"> Sign Up</a>.</div>
                    </div>
                </div>
            </div>
        </div>
        {{else}}
<!-- LOG IN MODAL -->
        <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header border-bottom-0">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-title text-center">
                            <h4 style="padding: 1em;">Login</h4>
                        </div>
                        <div class="d-flex flex-column text-center">
                            <form action="/check" method="POST">
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        id="actualLink" hidden>
                                </div>
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        name="user" id="user" placeholder="Your username or email address..." required>
                                </div>
                                <div class="form-group">
                                    <input type="password" style="width: 300px; margin:auto;" class="form-control"
                                        name="password" id="password" placeholder="Enter your password" required>
                                </div>
                                <div class="form-group">
                                    <input type="checkbox" style="width: auto;" onclick="myFunction()"> Show Password
                                    <script defer>
                                        function myFunction() {
                                            var x = document.getElementById("password");
                                            if (x.type === "password") {
                                                x.type = "text";
                                            } else {
                                                x.type = "password";
                                            }
                                        }
                                    </script>
                                </div>
                                <button type="submit" style="width: 200px; margin:auto;" name="Login"
                                    class="btn btn-success btn-block btn-round">Login</button>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <div class="signup-section">Not a member yet? <a href="#signUpModal" data-dismiss="modal"
                                data-toggle="modal" data-target="#signUpModal" class="text-info"> Sign Up</a>.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- END OF LOGIN MODAL -->
        {{/if}}

        

        <!-- SIGN UP MODAL -->
        <div class="modal fade" id="signUpModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header border-bottom-0">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-title text-center">
                            <h4 style="padding: 1em;">Login</h4>
                        </div>
                        <div class="d-flex flex-column text-center">
                            <form action="/signup" method="POST">
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        name="username" id="username" placeholder="Your username..." required>
                                </div>
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        name="name" id="name" placeholder="Your name..." required>
                                </div>
                                <div class="form-group">
                                    <input type="email" style="width: 300px; margin:auto;" class="form-control"
                                        name="email" id="email" placeholder="Your email address..." required>
                                </div>
                                <div class="form-group">
                                    <input type="tel" pattern="[0-9]{10}" style="width: 300px; margin:auto;"
                                        class="form-control" name="phone" id="phone" placeholder="Your phone number..."
                                        required>
                                </div>
                                <div class="form-group">
                                    <input type="text" style="width: 300px; margin:auto;" class="form-control"
                                        name="address" id="address" placeholder="Your address..." required>
                                </div>
                                <div class="form-group">
                                    <input type="password" style="width: 300px; margin:auto;" class="form-control"
                                        name="password" id="password" placeholder="Enter your password" required>
                                </div>
                                <button type="submit" style="width: 200px; margin:auto;" name="SignUp"
                                    class="btn btn-info btn-block btn-round">SignUp</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END OF SIGNUP MODAL -->
    </nav>
</header>